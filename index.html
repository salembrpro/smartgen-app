<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SmartGen Fussball Akademie ‚Äì App Prototype</title>
  <meta name="theme-color" content="#070a10" />

  <style>
    :root{
      /* Base */
      --bg:#070a10;
      --panel:#0b1220;
      --panel2:#0a0f1a;
      --text:#eaf2ff;
      --muted:#98a8c4;
      --line:rgba(255,255,255,.10);

      /* Status */
      --ok:#25d07f;
      --warn:#ffb020;
      --danger:#ff4d4d;

      /* Accent (Orange Neon sparsam) */
      --accent:#ff7a18;
      --accent2:#ffb14a;

      --radius:18px;
      --shadow: 0 22px 70px rgba(0,0,0,.55);
      --shadow2: 0 10px 30px rgba(0,0,0,.45);
      --glow: 0 0 0 1px rgba(255,122,24,.18), 0 0 40px rgba(255,122,24,.10);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);

      /* Carbon Background (subtil) */
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(255,122,24,.10), transparent 60%),
        radial-gradient(900px 520px at 100% 10%, rgba(255,122,24,.06), transparent 62%),
        radial-gradient(900px 520px at 50% 120%, rgba(255,255,255,.05), transparent 60%),
        linear-gradient(180deg, #070a0f 0%, var(--bg) 50%, #070a0f 100%);
      position:relative;
      overflow-x:hidden;
    }
    body::before{
      /* Carbon weave */
      content:"";
      position:fixed; inset:0;
      background:
        linear-gradient(135deg, rgba(255,255,255,.06) 0 6px, transparent 6px 12px),
        linear-gradient(225deg, rgba(255,255,255,.04) 0 6px, transparent 6px 12px);
      background-size: 18px 18px;
      opacity:.22;
      mix-blend-mode: overlay;
      pointer-events:none;
      filter: blur(.2px);
    }
    body::after{
      /* soft vignette */
      content:"";
      position:fixed; inset:-40px;
      background: radial-gradient(900px 420px at 50% 20%, transparent 40%, rgba(0,0,0,.55) 100%);
      pointer-events:none;
      opacity:.6;
    }

    .wrap{max-width:1100px; margin:0 auto; padding:22px 16px 70px; position:relative; z-index:1;}
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; margin-bottom:14px;
      flex-wrap:wrap;
    }
    .brand{display:flex; align-items:center; gap:12px;}
    .logoDot{
      width:44px; height:44px; border-radius:16px;
      background:
        radial-gradient(circle at 35% 30%, rgba(255,255,255,.18), transparent 55%),
        linear-gradient(135deg, rgba(255,122,24,.95), rgba(255,177,74,.55));
      box-shadow: 0 0 0 1px rgba(255,255,255,.12), 0 18px 55px rgba(255,122,24,.14);
    }
    .brand h1{font-size:16px; margin:0; letter-spacing:.3px}
    .brand p{margin:2px 0 0; color:var(--muted); font-size:12px}

    .pill{
      display:inline-flex; align-items:center; gap:10px;
      border:1px solid var(--line);
      padding:10px 12px; border-radius:999px;
      background: rgba(16,24,36,.55);
      box-shadow: 0 8px 28px rgba(0,0,0,.25);
      font-size:12px; color:var(--muted);
    }
    .pill b{color:var(--text); font-weight:700}
    .dot{
      width:10px;height:10px;border-radius:50%;
      background:var(--ok);
      box-shadow: 0 0 0 5px rgba(37,208,127,.12);
    }

    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:14px;
    }
    @media (max-width: 900px){
      .grid{grid-template-columns:1fr}
    }

    .card{
      background: linear-gradient(180deg, rgba(16,24,36,.82), rgba(10,14,20,.68));
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    /* ===== Header / Spieler ===== */
    .idHeader{
      position:relative;
      padding:16px;
      background:
        radial-gradient(700px 260px at 10% 0%, rgba(255,122,24,.14), transparent 62%),
        radial-gradient(700px 260px at 90% 20%, rgba(255,177,74,.08), transparent 65%),
        linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0));
      border-bottom:1px solid var(--line);
    }
    .idHeader::after{
      content:"";
      position:absolute; inset:-4px;
      pointer-events:none;
      background: radial-gradient(520px 240px at 16% 14%, rgba(255,122,24,.18), transparent 62%);
      opacity:.8;
      filter: blur(10px);
    }
    .idRow{position:relative; display:flex; gap:14px; align-items:flex-start; z-index:1;}
    .avatar{
      width:82px;height:82px;border-radius:20px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.16);
      display:grid; place-items:center;
      box-shadow: 0 14px 40px rgba(0,0,0,.45);
      flex:0 0 auto;
      position:relative;
      overflow:hidden;
    }
    .avatar::before{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(120px 90px at 30% 20%, rgba(255,255,255,.10), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }
    .avatar svg{width:54px; height:54px; opacity:.95; filter: drop-shadow(0 12px 18px rgba(0,0,0,.35));}

    .idInfo{flex:1; min-width:220px}
    .nameLine{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:6px;}
    .name{font-size:18px; margin:0; letter-spacing:.4px;}
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding:9px 12px; border-radius:999px;
      border:1px solid rgba(255,122,24,.24);
      background: rgba(255,122,24,.08);
      color:#ffd9b0; font-size:12px;
      box-shadow: 0 10px 30px rgba(255,122,24,.10);
      white-space:nowrap;
      font-weight:800;
    }
    .muted{color:var(--muted); font-size:12px; line-height:1.45}

    .miniChip{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;}
    .chip{
      padding:9px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(16,24,36,.55);
      color:var(--muted);
      font-size:12px;
    }
    .chip b{color:var(--text); font-weight:800}

    /* gro√üe Buttons (f√ºr Kids klar) */
    .idControls{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px;}
    .btn{
      border:1px solid var(--line);
      background: rgba(16,24,36,.70);
      color: var(--text);
      padding:12px 14px;
      border-radius:14px;
      cursor:pointer;
      font-weight:900;
      font-size:13px;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      display:inline-flex; align-items:center; gap:10px;
    }
    .btn:hover{transform: translateY(-1px); border-color: rgba(255,122,24,.35)}
    .btn:active{transform: translateY(0px) scale(.99)}
    .btn.primary{
      border-color: rgba(255,122,24,.42);
      background: linear-gradient(135deg, rgba(255,122,24,.20), rgba(255,177,74,.08));
      box-shadow: 0 16px 40px rgba(255,122,24,.12);
    }
    .btn .emoji{font-size:18px; line-height:1}

    /* ===== Sections ===== */
    .section{padding:16px;}
    .section h2{
      margin:0 0 10px 0;
      font-size:14px;
      letter-spacing:.4px;
      color:#dfe9ff;
    }

    .list{display:flex; flex-direction:column; gap:10px;}
    .row{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:12px;
      border:1px solid var(--line);
      border-radius:16px;
      background: rgba(16,24,36,.40);
    }
    .row .left{display:flex; gap:12px; align-items:center}
    .icon{
      width:44px;height:44px;border-radius:16px;
      display:grid;place-items:center;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color:#ffd9b0;
      font-size:22px; /* gro√ü */
      font-weight:900;
    }
    .rowTitle{margin:0; font-weight:900; font-size:13px}
    .rowSub{margin:2px 0 0; color:var(--muted); font-size:12px}
    .tag{
      font-size:12px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: var(--muted);
      white-space:nowrap;
      font-weight:800;
    }
    .tag.ok{border-color: rgba(37,208,127,.35); color:#bff4de; background: rgba(37,208,127,.10)}
    .tag.warn{border-color: rgba(255,176,32,.35); color:#ffe2b8; background: rgba(255,176,32,.10)}
    .tag.danger{border-color: rgba(255,77,77,.35); color:#ffd0d0; background: rgba(255,77,77,.10)}

    /* ===== Slots ===== */
    .slotsGrid{display:grid; grid-template-columns:1fr; gap:10px;}
    .slot{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:12px;
      border:1px solid var(--line);
      border-radius:16px;
      background: rgba(16,24,36,.40);
    }
    .slot strong{font-size:13px; font-weight:900}
    .slot small{display:block; color:var(--muted); margin-top:4px; font-size:12px}
    .slot .right{display:flex; align-items:center; gap:10px}

    .slotBtn{
      padding:12px 14px;
      border-radius:14px;
      border:1px solid rgba(255,122,24,.40);
      background: rgba(255,122,24,.10);
      color:#ffd9b0;
      cursor:pointer;
      font-weight:900;
      font-size:13px;
      display:inline-flex; align-items:center; gap:8px;
      box-shadow: 0 14px 34px rgba(0,0,0,.25);
    }
    .slotBtn:disabled{
      opacity:.45;
      cursor:not-allowed;
      border-color: rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: var(--muted);
      box-shadow:none;
    }

    /* ===== Modal ===== */
    .overlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.58);
      display:none;
      align-items:center; justify-content:center;
      padding:16px;
      z-index:99;
    }
    .modal{
      width:min(620px, 100%);
      border-radius:18px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(16,24,36,.94), rgba(10,14,20,.92));
      box-shadow: 0 30px 90px rgba(0,0,0,.60);
      overflow:hidden;
      position:relative;
    }
    .modalHead{
      padding:14px 16px;
      border-bottom:1px solid var(--line);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .modalHead b{letter-spacing:.3px; font-weight:900}
    .x{
      width:42px;height:42px;border-radius:14px;
      border:1px solid var(--line);
      background: rgba(0,0,0,.15);
      color:var(--text);
      cursor:pointer;
      font-size:18px;
      font-weight:900;
    }
    .modalBody{padding:16px}
    .field{display:flex; flex-direction:column; gap:6px; margin-top:10px}
    .field label{font-size:12px; color:var(--muted); font-weight:800}
    input, select{
      background: rgba(0,0,0,.20);
      border:1px solid rgba(255,255,255,.14);
      color: var(--text);
      padding:12px 12px;
      border-radius:14px;
      outline:none;
      font-weight:700;
    }
    .modalActions{
      display:flex; gap:10px; justify-content:flex-end;
      padding:14px 16px;
      border-top:1px solid var(--line);
    }

    /* ===== SmartGen ID (NFC) ===== */
    .idCard{
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(620px 240px at 20% 10%, rgba(255,122,24,.14), transparent 60%),
        radial-gradient(520px 220px at 90% 20%, rgba(255,177,74,.08), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.08));
      padding:14px;
      box-shadow: var(--shadow2);
      position:relative;
      overflow:hidden;
    }
    .idCard::before{
      /* hex pattern subtle */
      content:"";
      position:absolute; inset:-60px;
      background:
        radial-gradient(circle, rgba(255,255,255,.08) 2px, transparent 3px) 0 0/18px 18px;
      opacity:.12;
      pointer-events:none;
      transform: rotate(8deg);
    }
    .idCardTop{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      position:relative;
    }
    .idCardTop .title{
      font-weight:1000; letter-spacing:.4px;
    }
    .nfcPill{
      display:inline-flex; align-items:center; gap:8px;
      padding:9px 12px;
      border-radius:999px;
      border:1px solid rgba(255,122,24,.34);
      background: rgba(255,122,24,.10);
      box-shadow: var(--glow);
      font-weight:900;
      font-size:12px;
      color:#ffd9b0;
      user-select:none;
    }
    .nfcIcon{
      width:12px; height:12px; border-radius:50%;
      background: rgba(255,122,24,.95);
      box-shadow: 0 0 0 5px rgba(255,122,24,.14);
      animation: pulse 1.5s infinite ease-in-out;
    }
    @keyframes pulse{
      0%{transform:scale(.9); opacity:.7}
      50%{transform:scale(1.05); opacity:1}
      100%{transform:scale(.9); opacity:.7}
    }
    .idCardMid{
      margin-top:12px;
      display:grid;
      grid-template-columns: 1fr 120px;
      gap:12px;
      position:relative;
    }
    .idKV{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    .kv{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.12);
      border-radius:14px;
      padding:10px;
    }
    .kv .k{color:var(--muted); font-size:11px; font-weight:800}
    .kv .v{margin-top:4px; font-weight:1000; font-size:13px}
    .qr{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      border-radius:14px;
      padding:10px;
      display:grid; place-items:center;
    }
    .qrBox{
      width:92px; height:92px;
      border-radius:10px;
      background:
        linear-gradient(90deg, rgba(255,255,255,.12) 1px, transparent 1px) 0 0/10px 10px,
        linear-gradient(0deg, rgba(255,255,255,.12) 1px, transparent 1px) 0 0/10px 10px;
      position:relative;
      overflow:hidden;
    }
    .qrBox::after{
      content:"SG";
      position:absolute; inset:0;
      display:grid; place-items:center;
      font-weight:1000;
      color: rgba(255,122,24,.85);
      letter-spacing:.6px;
      text-shadow: 0 14px 30px rgba(0,0,0,.45);
    }
    .idCardBottom{
      margin-top:12px;
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
      position:relative;
    }
    .miniBtn{
      padding:12px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: var(--text);
      font-weight:1000;
      cursor:pointer;
      display:inline-flex; align-items:center; gap:10px;
    }
    .miniBtn.primary{
      border-color: rgba(255,122,24,.42);
      background: rgba(255,122,24,.10);
      color:#ffd9b0;
      box-shadow: var(--glow);
    }
    .miniBtn .emoji{font-size:18px}

    /* Toast */
    .toast{
      position: fixed;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(16,24,36,.92);
      border: 1px solid var(--line);
      padding: 12px 14px;
      border-radius: 14px;
      box-shadow: 0 18px 60px rgba(0,0,0,.55);
      display:none;
      z-index:120;
      font-size:12px;
      color: var(--muted);
      max-width: 92vw;
    }
    .toast b{color:var(--text)}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logoDot"></div>
        <div>
          <h1>SmartGen Fussball Akademie</h1>
          <p>Prototype ‚Ä¢ Spieler Dashboard ‚Ä¢ Slots ‚Ä¢ SmartGen ID (NFC)</p>
        </div>
      </div>

      <div class="pill" title="Live-Status">
        <span class="dot" id="statusDot"></span>
        Status: <b id="statusLabel">Aktiv</b>
      </div>
    </div>

    <div class="grid">
      <!-- LEFT -->
      <div class="card">
        <div class="idHeader">
          <div class="idRow">
            <div class="avatar" title="Fu√üball Avatar">
              <!-- Football SVG -->
              <svg viewBox="0 0 64 64" fill="none" aria-hidden="true">
                <path d="M32 59c14.91 0 27-12.09 27-27S46.91 5 32 5 5 17.09 5 32s12.09 27 27 27Z" stroke="rgba(255,255,255,.6)" stroke-width="2"/>
                <path d="M32 19l8 5-3 9H27l-3-9 8-5Z" fill="rgba(255,122,24,.95)"/>
                <path d="M24 24l-6 4 2 9 7-4m18-9 6 4-2 9-7-4M27 33l-7 4 4 7 8-3m5-8 7 4-4 7-8-3" stroke="rgba(255,255,255,.55)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>

            <div class="idInfo">
              <div class="nameLine">
                <h2 class="name">Spieler: <span id="memberName">Amine B.</span></h2>
                <span class="badge">SMARTGEN</span>
              </div>

              <div class="muted">
                <span id="memberMeta">U15 ‚Ä¢ Technik & Kognition</span> ‚Ä¢
                Trainer: <b id="trainerLabel">Salem</b>
              </div>

              <div class="miniChip">
                <div class="chip"><b>Level:</b> <span id="sportLevel">Fortgeschritten</span></div>
                <div class="chip"><b>Abo:</b> <span id="subStatus">Aktiv</span></div>
                <div class="chip"><b>N√§chster Termin:</b> <span id="nextSession">Mi 18:00</span></div>
              </div>

              <div class="idControls">
                <button class="btn primary" id="btnSmartID"><span class="emoji">ü™™</span> ID SmartGen</button>
                <button class="btn" id="btnBook"><span class="emoji">üìÖ</span> Slot buchen</button>
                <button class="btn" id="btnStatus"><span class="emoji">‚ö°</span> Status</button>
                <button class="btn" id="btnSwapTrainer"><span class="emoji">üë®‚Äçüè´</span> Trainer</button>
              </div>
            </div>
          </div>
        </div>

        <div class="section">
          <h2>Heute Fokus</h2>
          <div class="list">
            <div class="row">
              <div class="left">
                <div class="icon">‚öΩÔ∏è</div>
                <div>
                  <p class="rowTitle">Technik</p>
                  <p class="rowSub">Erster Kontakt ‚Ä¢ Dribbling ‚Ä¢ Tempo</p>
                </div>
              </div>
              <span class="tag ok">Ready</span>
            </div>

            <div class="row">
              <div class="left">
                <div class="icon">üß†</div>
                <div>
                  <p class="rowTitle">Kognition</p>
                  <p class="rowSub">Scanning ‚Ä¢ Entscheidung ‚Ä¢ Reaktion</p>
                </div>
              </div>
              <span class="tag warn">Slots frei</span>
            </div>

            <div class="row">
              <div class="left">
                <div class="icon">üìà</div>
                <div>
                  <p class="rowTitle">Progress</p>
                  <p class="rowSub">Anwesenheit + Score (Demo)</p>
                </div>
              </div>
              <span class="tag" id="progressTag">Score: 82</span>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT -->
      <div class="card">
        <div class="section">
          <h2>Offene Slots</h2>
          <p class="muted" style="margin-top:-2px">Tippe auf <b>Jetzt buchen</b>.</p>
          <div class="slotsGrid" id="slotsGrid"></div>
        </div>

        <div class="section" style="border-top:1px solid var(--line)">
          <h2>Quick Actions</h2>
          <div class="list">
            <div class="row">
              <div class="left">
                <div class="icon">üéüÔ∏è</div>
                <div>
                  <p class="rowTitle">Check-in (NFC/QR)</p>
                  <p class="rowSub">√ºber ‚ÄûID SmartGen‚Äú</p>
                </div>
              </div>
              <span class="tag ok">Aktiv</span>
            </div>
            <div class="row">
              <div class="left">
                <div class="icon">üîî</div>
                <div>
                  <p class="rowTitle">Benachrichtigung</p>
                  <p class="rowSub">‚ÄûSlot best√§tigt‚Äú (Demo)</p>
                </div>
              </div>
              <span class="tag">Soon</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal: Booking -->
  <div class="overlay" id="bookingOverlay">
    <div class="modal">
      <div class="modalHead">
        <b id="bookingTitle">Slot buchen</b>
        <button class="x" id="bookingClose">‚úï</button>
      </div>
      <div class="modalBody">
        <p class="muted" id="bookingInfo" style="margin:0 0 10px 0"></p>

        <div class="field">
          <label>Trainingstyp</label>
          <select id="bookType">
            <option>Privattraining (Technik)</option>
            <option>Kognitives Training</option>
            <option>Athletik (Schnelligkeit)</option>
            <option>Matchanalyse</option>
          </select>
        </div>

        <div class="field">
          <label>Notiz (optional)</label>
          <input id="bookNote" placeholder="z.B. Fokus: erster Kontakt / schwacher Fu√ü" />
        </div>
      </div>
      <div class="modalActions">
        <button class="btn" id="btnCancelBook"><span class="emoji">‚Ü©Ô∏è</span> Zur√ºck</button>
        <button class="btn primary" id="btnConfirmBook"><span class="emoji">‚úÖ</span> Best√§tigen</button>
      </div>
    </div>
  </div>

  <!-- Modal: SmartGen ID (NFC) -->
  <div class="overlay" id="idOverlay">
    <div class="modal">
      <div class="modalHead">
        <b>SmartGen ID</b>
        <button class="x" id="idClose">‚úï</button>
      </div>
      <div class="modalBody">
        <div class="idCard">
          <div class="idCardTop">
            <div class="title">Mitgliedskarte ‚Ä¢ <span id="idMemberName">Amine B.</span></div>
            <div class="nfcPill" id="nfcTap">
              <span class="nfcIcon"></span> NFC bereit
            </div>
          </div>

          <div class="idCardMid">
            <div class="idKV">
              <div class="kv">
                <div class="k">Mitglied-ID</div>
                <div class="v" id="idNumber">SG-U15-2048</div>
              </div>
              <div class="kv">
                <div class="k">Status</div>
                <div class="v" id="idStatus">Aktiv</div>
              </div>
              <div class="kv">
                <div class="k">Trainer</div>
                <div class="v" id="idTrainer">Salem</div>
              </div>
              <div class="kv">
                <div class="k">Check-in</div>
                <div class="v">NFC / QR</div>
              </div>
            </div>

            <div class="qr" title="QR (Demo)">
              <div class="qrBox"></div>
              <div class="muted" style="margin-top:8px; font-size:11px; font-weight:800;">QR Demo</div>
            </div>
          </div>

          <div class="idCardBottom">
            <button class="miniBtn primary" id="btnTapNFC"><span class="emoji">üì≥</span> NFC Check-in</button>
            <button class="miniBtn" id="btnAddWallet"><span class="emoji">‚ûï</span> Wallet (Demo)</button>
          </div>
        </div>

        <p class="muted" style="margin:12px 0 0">
          Tipp: In echt w√ºrde hier Apple Wallet / Google Wallet Pass generiert werden.
          F√ºrs Prototype: Buttons zeigen nur die Logik.
        </p>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    // ===== Data =====
    const member = {
      name: "Amine B.",
      meta: "U15 ‚Ä¢ Technik & Kognition",
      sportLevel: "Fortgeschritten",
      subStatus: "Aktiv",
      nextSession: "Mi 18:00",
      trainer: "Salem",
      status: "Aktiv",
      score: 82
    };
    const trainers = ["Salem", "G√ºni", "Tobi"];

    const slots = [
      { id: 1, day: "Di", time: "17:00", title: "Privattraining", desc: "Technik ‚Ä¢ Ballgef√ºhl", open: true },
      { id: 2, day: "Mi", time: "19:00", title: "Kognitives Training", desc: "Reaktion ‚Ä¢ Entscheidung", open: true },
      { id: 3, day: "Do", time: "18:30", title: "Athletik", desc: "Schnelligkeit ‚Ä¢ Stabilit√§t", open: false },
      { id: 4, day: "Sa", time: "10:30", title: "Matchanalyse", desc: "Mini-Report ‚Ä¢ KPI", open: true }
    ];

    // ===== Helpers =====
    const $ = (id) => document.getElementById(id);

    function toast(msg){
      const el = $("toast");
      el.innerHTML = msg;
      el.style.display = "block";
      clearTimeout(window.__t);
      window.__t = setTimeout(()=> el.style.display="none", 2600);
    }

    function setStatusUI(status){
      $("statusLabel").textContent = status;
      const dot = $("statusDot");
      const ok = getComputedStyle(document.documentElement).getPropertyValue('--ok').trim();
      const warn = getComputedStyle(document.documentElement).getPropertyValue('--warn').trim();
      const danger = getComputedStyle(document.documentElement).getPropertyValue('--danger').trim();

      dot.style.background = status === "Aktiv" ? ok : (status === "Pause" ? warn : danger);
      dot.style.boxShadow = status === "Aktiv"
        ? "0 0 0 5px rgba(37,208,127,.12)"
        : status === "Pause"
          ? "0 0 0 5px rgba(255,176,32,.12)"
          : "0 0 0 5px rgba(255,77,77,.12)";
    }

    // ===== Render =====
    function renderMember(){
      $("memberName").textContent = member.name;
      $("memberMeta").textContent = member.meta;
      $("sportLevel").textContent = member.sportLevel;
      $("subStatus").textContent = member.subStatus;
      $("nextSession").textContent = member.nextSession;
      $("trainerLabel").textContent = member.trainer;
      $("progressTag").textContent = "Score: " + member.score;

      // ID modal fields
      $("idMemberName").textContent = member.name;
      $("idTrainer").textContent = member.trainer;
      $("idStatus").textContent = member.status;

      setStatusUI(member.status);
    }

    function renderSlots(){
      const grid = $("slotsGrid");
      grid.innerHTML = "";

      slots.forEach(s => {
        const div = document.createElement("div");
        div.className = "slot";
        div.innerHTML = `
          <div>
            <strong>${s.day} ‚Ä¢ ${s.time} ‚Äî ${s.title}</strong>
            <small>${s.desc}</small>
          </div>
          <div class="right">
            <span class="tag ${s.open ? "warn" : ""}">${s.open ? "frei" : "belegt"}</span>
            <button class="slotBtn" ${s.open ? "" : "disabled"} data-id="${s.id}">
              <span>üöÄ</span> Jetzt buchen
            </button>
          </div>
        `;
        grid.appendChild(div);
      });

      grid.querySelectorAll(".slotBtn").forEach(btn=>{
        btn.addEventListener("click", () => openBooking(parseInt(btn.dataset.id,10)));
      });
    }

    // ===== Booking Modal =====
    let selectedSlot = null;

    function openBooking(slotId){
      selectedSlot = slots.find(s=>s.id===slotId);
      if(!selectedSlot) return;

      $("bookingTitle").textContent = `Slot buchen: ${selectedSlot.day} ${selectedSlot.time}`;
      $("bookingInfo").innerHTML = `
        <b>${selectedSlot.title}</b> ‚Äì ${selectedSlot.desc}<br/>
        Trainer: <b>${member.trainer}</b> ‚Ä¢ Status: <b>${member.status}</b>
      `;
      $("bookingOverlay").style.display = "flex";
    }

    function closeBooking(){
      $("bookingOverlay").style.display = "none";
      $("bookNote").value = "";
      selectedSlot = null;
    }

    $("bookingClose").addEventListener("click", closeBooking);
    $("btnCancelBook").addEventListener("click", closeBooking);

    $("btnConfirmBook").addEventListener("click", () => {
      if(!selectedSlot) return;

      const type = $("bookType").value;
      const note = $("bookNote").value.trim();

      selectedSlot.open = false;
      renderSlots();
      closeBooking();

      toast(`‚úÖ <b>Slot best√§tigt</b><br>${type} ‚Ä¢ ${selectedSlot.day} ${selectedSlot.time}${note ? "<br>üìù " + note : ""}`);
    });

    // ===== SmartGen ID Modal =====
    function openID(){
      $("idOverlay").style.display = "flex";
      toast(`ü™™ <b>ID ge√∂ffnet</b> ‚Ä¢ NFC bereit`);
    }
    function closeID(){ $("idOverlay").style.display = "none"; }

    $("btnSmartID").addEventListener("click", openID);
    $("idClose").addEventListener("click", closeID);

    $("btnTapNFC").addEventListener("click", () => {
      toast(`üì≥ <b>NFC Check-in</b><br>‚úÖ Zugang/Anwesenheit registriert (Demo)`);
      // kleine Demo-Progress
      member.score = Math.min(100, member.score + 1);
      renderMember();
    });

    $("btnAddWallet").addEventListener("click", () => {
      toast(`‚ûï <b>Wallet</b><br>Apple/Google Wallet Pass (Demo ‚Äì sp√§ter echtes Pass-File)`);
    });

    // ===== Top Buttons =====
    $("btnBook").addEventListener("click", () => {
      const firstOpen = slots.find(s=>s.open);
      if(!firstOpen){ toast("‚ö†Ô∏è Keine freien Slots aktuell."); return; }
      openBooking(firstOpen.id);
    });

    $("btnStatus").addEventListener("click", () => {
      const order = ["Aktiv","Pause","Verletzung"];
      const idx = order.indexOf(member.status);
      member.status = order[(idx+1) % order.length];
      renderMember();
      toast(`‚ö° Status: <b>${member.status}</b>`);
    });

    $("btnSwapTrainer").addEventListener("click", () => {
      const idx = trainers.indexOf(member.trainer);
      member.trainer = trainers[(idx+1) % trainers.length];
      renderMember();
      toast(`üë®‚Äçüè´ Trainer: <b>${member.trainer}</b>`);
    });

    // init
    renderMember();
    renderSlots();
  </script>
</body>
</html>
